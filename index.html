<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="scripts/secrets.js"></script>

        <!-- <link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet"> -->
        <link href="https://fonts.googleapis.com/css2?family=Work+Sans&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
        
    </head>

    <body>

        <script>
            var myApiKey = secrets.apiKey;
            var myUsername = secrets.username;
            
            const request = new XMLHttpRequest();

            request.open('GET', 'http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user='+myUsername+'&api_key='+myApiKey+'&format=json');
            request.send(); 
            
            request.onload = () => {
                if (request.status === 200) {
                    console.log("success"); 
                
                    //Extracting data
                    var song = JSON.parse(request.response).recenttracks.track[0].name;
                    var artist = JSON.parse(request.response).recenttracks.track[0].artist["#text"];

                    var playing;
                    if (JSON.parse(request.response).recenttracks.track[0]["@attr"]) playing = true;
                    else playing = false;
                    if (playing) {
                        document.getElementById("songContainer").style.display = "block"; 
                    }
                    else {
                        document.getElementById("songContainer").style.display = "none";
                    }
                    
                    document.getElementById("mySong").innerHTML = song;
                    document.getElementById("myArtist").innerHTML = artist;
                } 
            };
            
            request.onerror = () => {
                console.log("error")
            };
        </script>

        <div class = "container">
            <div class = "intro">
                 <title>Sophie Groenwold</title>

                    <h1 id = "colorchange" onclick = "changeColor">
                        <a class = "nounderline" href = "http://sophiegroenwold.github.io">Sophie Groenwold</a>
                        
                        <div class = "container2">

                            <!-- <a class = "nounderline" href = "http://sophiegroenwold.github.io">Sophie Groenwold</a> -->
            
                            <div class = "linksContainer1">
                                <div id = "crossFade">
                                    <img class = "top" alt = "Github" src="images/github.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://github.com/sophiegroenwold" target = "_blank">
                                        <img border="0" alt="GitHub" src="images/githubHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                
                            <div class = "linksContainer2">
                                <div id = "crossFade">
                                    <img class="top" alt="Facebook" src="images/facebook.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://www.facebook.com/sophie.groenwold" target = "_blank">
                                        <img border="0" alt="Facebook" src="images/facebookHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                        
                            <div class = "linksContainer3">
                                <div id = "crossFade">
                                    <img class = "top" alt="Linkedin" src="images/linkedin.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://www.linkedin.com/in/sophiegroenwold/" target = "_blank">
                                        <img border="0" alt="Linkedin" src="images/linkedinHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                
                            <div class = "linksContainer4">
                                <div id = "crossFade">
                                    <img class = "top" alt="Email" src="images/gmail.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="mailto:sophiegroenwold@ucsb.edu" target = "_blank">
                                        <img border="0" alt="Email" src="images/gmailHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a><br>
                                </div>
                            </div>
                                    
                        </div>

                        <hr class = "new" noshade>

                    </h1>

                    <p class = "block">I'm a Regent's scholar at UC Santa Barbara, 
                        where I'm in my second year pursuing a B.S. in Computer Science.</p>

                    <!-- 
                        note: to highlight text, use <cpos class="highlight" data-idcpos="10" data-comment="1"></cpos>
                    -->

                    <p class = "block">
                        I'm also currently:
                    </p>
                    <p class = "block">
                        &nbsp; <small>></small> part of the <a class = link target = "_blank" href = "http://nlp.cs.ucsb.edu/">UCSB NLP Group</a> through
                        <a class = link target = "_blank" href = "https://sites.google.com/site/erspucsb/">
                        CS ERSP</a><br>
                    </p>
                    <p class = "block">
                        &nbsp; <small>></small> the External VP & Outreach Chair of 
                           <a class = link target = "_blank" href = "https://ucsbswe.weebly.com/">UCSB SWE</a> <br>
                    </p>
                    <p class = "block">
                        &nbsp; <small>></small> part of the Marketing Team for 
                           <a class = link target = "_blank" href = "https://www.womxnhacks.com/">Womxn/Hacks</a> <br>
                    </p>

                    <div class = "lowBlock">
                 
                        <div class = "resume">
                            //  <a class = link target = "_blank" href = "resume.pdf">resume</a>
                        </div>

                        <div class = "songUpperContainer">
                            <span id = "songContainer">
                                <span id = "mySong"></span>&nbsp;by&nbsp;<span id = "myArtist"></span>&nbsp;&nbsp; <img src="images/music.gif" alt="musicGif"/>
                            </span>
                        </div>
                    
                    </div>

            </div>
        </div>

        <!-- <script>
                function getRandomColor() {
                     var letters = '0123456789ABCDEF';
                     var color = '#';
                     for (var i = 0; i < 6; i++ ) {
                         color += letters[Math.floor(Math.random() * 16)];
                     }
                     return color;
                 }
     
                 var div = document.getElementById( 'colorchange' );
                 div.onmouseover = function() {
                     this.style.color = getRandomColor();
                     var h2s = this.getElementsByTagName( 'div' );
                 };
     
                 div.onmouseout = function() {
                     this.style.color = 'black';
                 }; 
        </script> -->

    </body>
</html>