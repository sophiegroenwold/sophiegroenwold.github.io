<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="scripts/secrets.js"></script>
        <link rel="icon" href="purple.png">

        <link href="https://fonts.googleapis.com/css2?family=Work+Sans&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&display=swap" rel="stylesheet">
        
    </head>

    <body>

        <!-- for use with toggle -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

        <script>
            var myApiKey = secrets.apiKey;
            var myUsername = secrets.username;
            
            const request = new XMLHttpRequest();

            request.open('GET', 'http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user='+myUsername+'&api_key='+myApiKey+'&format=json');
            request.send(); 
            
            request.onload = () => {
                if (request.status === 200) {
                    console.log("success"); 
                
                    //Extracting data
                    var song = JSON.parse(request.response).recenttracks.track[0].name;
                    var artist = JSON.parse(request.response).recenttracks.track[0].artist["#text"];

                    var playing;
                    if (JSON.parse(request.response).recenttracks.track[0]["@attr"]) playing = true;
                    else playing = false;
                    if (playing) {
                        document.getElementById("songContainer").style.display = "block"; 
                    }
                    else {
                        document.getElementById("songContainer").style.display = "none";
                    }
                    
                    document.getElementById("mySong").innerHTML = song;
                    document.getElementById("myArtist").innerHTML = artist;
                } 
            };
            
            request.onerror = () => {
                console.log("error")
            };
        </script>

        <div class = "container">
            <div class = "intro">
                 <title>Sophie Groenwold</title>

                    <h1 id = "colorchange" onclick = "changeColor">
                        <a class = "nounderline" href = "http://sophiegroenwold.com">Sophie Groenwold</a>

                        <!-- BEGIN LINKS  -->
                        
                        <div class = "container2">

                            <div class = "linksContainer1">
                                <div id = "crossFade">
                                    <img class = "top" alt = "Github" src="images/githubHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://github.com/sophiegroenwold" target = "_blank">
                                        <img border="0" alt="GitHub" src="images/githubHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                
                            <div class = "linksContainer2">
                                <div id = "crossFade">
                                    <img class="top" alt="Twitter" src="images/twitterHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://twitter.com/sophiegroenwold" target = "_blank">
                                        <img border="0" alt="Facebook" src="images/twitterHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                        
                            <div class = "linksContainer3">
                                <div id = "crossFade">
                                    <img class = "top" alt="Linkedin" src="images/linkedinHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://www.linkedin.com/in/sophiegroenwold/" target = "_blank">
                                        <img border="0" alt="Linkedin" src="images/linkedinHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                
                            <div class = "linksContainer4">
                                <div id = "crossFade">
                                    <img class = "top" alt="Email" src="images/gmailHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="mailto:sophiegroenwold@ucsb.edu" target = "_blank">
                                        <img border="0" alt="Email" src="images/gmailHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a><br>
                                </div>
                            </div>
                                    
                        </div>

                        <hr class = "new" noshade>

                    </h1>

                    <!-- BEGIN DESCRIPTION -->

                    <p class = "block">Hi! I'm Sophie, a student at UC Santa Barbara, where I'm in my third year studying computer science. 
                        Lately, I've been wfh out of Los Angeles, CA.</p>

                    <p class = "block">I'm interested exploring the intersection of CS with language and design; check out 
                        my <a class = link target = "_blank" href = "resume.pdf">resume</a>.
                        <!-- <a class = link href="bookshelf.html" target="_self">bookshelf</a>). -->
                    </p>

                    <!-- BEGIN CURRENTLIES -->

                    <p class = "block">
                        I'm also currently
                    </p>

                    <ul>
                        <li>
                        working with my team in the <a class = link target = "_blank" href = "http://nlp.cs.ucsb.edu/">UCSB NLP Group</a> on 
                        computational social science issues.  Our <a class = link target = "_blank" href = "https://www.aclweb.org/anthology/2020.emnlp-main.473/">work</a>
                        was recently accepted to EMNLP 2020!
                        </li>
                    </ul>

                    <ul>
                        <li>
                        supporting womxn in STEM with the <a class = link target = "_blank" href = "https://ucsbswe.weebly.com/">UCSB Society of Women Engineers</a>.
                        As External VP, I connect our members with opportunities in industry.
                        </li>
                    </ul>

                    <span id = "songContainer">
                        <ul>
                            <li>
                            listening to 
                                <a class = link target = "_blank" href = "https://open.spotify.com/user/sophiegroenwold">
                                    <span id = "mySong"></span>&nbsp;by&nbsp;<span id = "myArtist"></span>
                                </a>
                                &nbsp;
                                <img src="images/music.gif" alt="musicGif"/>
                            </li>
                        </ul>
                    </span>

                    <p class = "block">
                    In my free time, I dance (I was a ballet dancer for 10+ years!) and read memoirs, historical fiction, and crime novels
                        (or more accurately, add those books to my bookshelf). 
                    </p>

                    <p class = "block">
                        If you've read this far, reach out to say hello!
                    </p>

            </div>
        </div>

        <script type="text/javascript">
            $(document).ready(function() {
                $('#songContainer').hide();
            });
        </script>

    </body>
</html>