<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="scripts/secrets.js"></script>

        <!-- <link href="https://fonts.googleapis.com/css?family=Oxygen" rel="stylesheet"> -->
        <link href="https://fonts.googleapis.com/css2?family=Work+Sans&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@600&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500&display=swap" rel="stylesheet">
        
    </head>

    <body>

        <!-- for use with toggle -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

        <script>
            var myApiKey = secrets.apiKey;
            var myUsername = secrets.username;
            
            const request = new XMLHttpRequest();

            request.open('GET', 'http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user='+myUsername+'&api_key='+myApiKey+'&format=json');
            request.send(); 
            
            request.onload = () => {
                if (request.status === 200) {
                    console.log("success"); 
                
                    //Extracting data
                    var song = JSON.parse(request.response).recenttracks.track[0].name;
                    var artist = JSON.parse(request.response).recenttracks.track[0].artist["#text"];

                    var playing;
                    if (JSON.parse(request.response).recenttracks.track[0]["@attr"]) playing = true;
                    else playing = false;
                    if (playing) {
                        document.getElementById("songContainer").style.display = "block"; 
                    }
                    else {
                        document.getElementById("songContainer").style.display = "none";
                    }
                    
                    document.getElementById("mySong").innerHTML = song;
                    document.getElementById("myArtist").innerHTML = artist;
                } 
            };
            
            request.onerror = () => {
                console.log("error")
            };
        </script>

        <div class = "container">
            <div class = "intro">
                 <title>Sophie Groenwold</title>

                    <h1 id = "colorchange" onclick = "changeColor">
                        <a class = "nounderline" href = "http://sophiegroenwold.com">Sophie Groenwold</a>

                        <!-- BEGIN LINKS  -->
                        
                        <div class = "container2">

                            <div class = "linksContainer1">
                                <div id = "crossFade">
                                    <img class = "top" alt = "Github" src="images/github.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://github.com/sophiegroenwold" target = "_blank">
                                        <img border="0" alt="GitHub" src="images/githubHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                
                            <div class = "linksContainer2">
                                <div id = "crossFade">
                                    <img class="top" alt="Facebook" src="images/facebook.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://www.facebook.com/sophie.groenwold" target = "_blank">
                                        <img border="0" alt="Facebook" src="images/facebookHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                        
                            <div class = "linksContainer3">
                                <div id = "crossFade">
                                    <img class = "top" alt="Linkedin" src="images/linkedin.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="https://www.linkedin.com/in/sophiegroenwold/" target = "_blank">
                                        <img border="0" alt="Linkedin" src="images/linkedinHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a>
                                </div>
                            </div>
                
                            <div class = "linksContainer4">
                                <div id = "crossFade">
                                    <img class = "top" alt="Email" src="images/gmail.png" 
                                        style = "width:20px; height: 20px; margin: 15px;">
                                    <a class = "bottom" href="mailto:sophiegroenwold@ucsb.edu" target = "_blank">
                                        <img border="0" alt="Email" src="images/gmailHover.png" 
                                        style = "width:20px; height: 20px; margin: 15px;"></a><br>
                                </div>
                            </div>
                                    
                        </div>

                        <hr class = "new" noshade>

                    </h1>

                    <!-- BEGIN DESCRIPTION -->

                    <p class = "block">I'm a Regent's scholar at UC Santa Barbara, 
                        where I'm a rising third year pursuing a B.S. in Computer Science.</p>

                    <p class = "block">I love exploring the intersection of computer science with language and design. 
                        In my free time, I dance and read (& add books to my <a class = link href="bookshelf.html" target="_self">bookshelf</a>).
                    </p>

                    <!-- BEGIN CURRENTLIES -->

                    <p class = "block">
                        I'm also currently:
                    </p>

                    <p class = "block">
                        &nbsp; <input id = "toggleButton1" type="button" onclick="toggle(this.id)" value="•"></input> a Web Development Intern at 
                        <a class = link target = "_blank" href = "https://www.guardianlife.com/careers/corporate/internships">Guardian Life</a>
                    </p>
                    
                    <div id = "toggleInfo">
                        <div id = "toggleInfo1">
                            I'm exploring web development through an Agile lens by utilizing SAFe (Scaled Agile Framework).
                        </div>
                    </div>

                    <p class = "block">
                        &nbsp; <input id = "toggleButton2" type="button" onclick="toggle(this.id)" value="•"></input> part of the <a class = link target = "_blank" href = "http://nlp.cs.ucsb.edu/">UCSB NLP Group</a> through
                        <a class = link target = "_blank" href = "https://sites.google.com/site/erspucsb/">
                        CS ERSP</a>
                    </p>

                    <div id = "toggleInfo">
                        <div id = "toggleInfo2">
                            I'm analyzing the efficacy of state-of-the-art NLP technologies on variations of language, with a focus on
                            Transformer-based models.
                        </div>
                    </div>

                    <p class = "block">
                        &nbsp; <input id = "toggleButton3" type="button" onclick="toggle(this.id)" value="•"></input> the External Vice President of 
                           <a class = link target = "_blank" href = "https://ucsbswe.weebly.com/">UCSB Society of Women Engineers</a>
                    </p>

                    <div id = "toggleInfo">
                        <div id = "toggleInfo3">
                            I'm SWE's point of reference for professional communications, and I organize our annual Evening with Industry.
                        </div>
                    </div>

                    <!-- BEGIN RESUME & SONG PLAYER -->

                    <div class = "lowBlock">
                 
                        <div class = "resume">
                            //  <a class = link target = "_blank" href = "resume.pdf">resume</a>
                        </div>

                        <div class = "songUpperContainer">
                            <span id = "songContainer">
                                <span id = "mySong"></span>&nbsp;by&nbsp;<span id = "myArtist"></span>&nbsp;&nbsp; <img src="images/music.gif" alt="musicGif"/>
                            </span>
                        </div>
                    
                    </div>

            </div>
        </div>

        <script>

            function toggle(button_id) {
                // var x = document.getElementById(id);

                // if (x.style.display === "none") 
                // {
                //     x.style.display = "block";
                // } 

                // else 
                // {
                //     x.style.display = "none";
                // }

                var elem = document.getElementById(button_id);
                if (elem.value=="•") elem.value = "◦";
                else elem.value = "•";
            }
        </script>

        <script type="text/javascript">
            $(document).ready(function() {
                $('#toggleInfo1').hide();
                $('#toggleButton1').on('click', function() {
                        $('#toggleInfo1').slideToggle(300);
                });
            });

            $(document).ready(function() {
                $('#toggleInfo2').hide();
                $('#toggleButton2').on('click', function() {
                        $('#toggleInfo2').slideToggle(300);
                });
            });

            $(document).ready(function() {
                $('#toggleInfo3').hide();
                $('#toggleButton3').on('click', function() {
                        $('#toggleInfo3').slideToggle(300);
                });
            });
        </script>

    </body>
</html>